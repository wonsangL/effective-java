# 상속보다는 컴포지션을 사용하라
## 상속 구조가 가지는 문제점
여기서 상속이란, 클래스가 다른 클래스를 확장하는 상속을 의미한다.

잘못된 상속 구조는 아래와 같이 예상하지 못한 문제를 발생시킬 수 있다.

### 상위 클래스의 메서드의 동작 원리를 알지 못한 상태에서 이를 재정의하면 우리의 의도와 다르게 동작한다.
### 상위 클래스에 수정 사항에 대해서 모든 하위 클래스가 영향을 받는다.

## Composition 사용
위와 같은 문제를 해결하기 위한 방법으로 책에서는 composition 패턴을 활용할 것을 제시하고 있다.

이는, 기존 클래스를 `private` 필드로 추가하고, 기존 클래스에 대응하는 메서드를 정의해 결과를 반환하는 방법을 의미한다.

### SLEF 문제
이러한 composition을 활용한 방법은 SELF 문제라는, 자기 자신의 참조를 다른 객체에 넘기는 방식에서 문제를 야기한다.

[SLEF 문제 예시](https://stackoverflow.com/questions/28254116/wrapper-classes-are-not-suited-for-callback-frameworks)

## 상속의 올바른 사용
그렇다면 상속을 절대 사용하지 말고, 항상 composition 패턴을 사용해야하는 걸까?

책에서는 두 클래스가 `is-a`관계일때만, 상속을 사용할 것을 권장하고 있다.